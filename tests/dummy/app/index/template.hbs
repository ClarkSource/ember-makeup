<ContextComponent @context="light">
  <ContextComponent @context="dark">
    <ContextualComponent @expected="dark" />
  </ContextComponent>

  <ContextComponent @context="dark">
    <ContextComponent @context="light">
      <ContextualComponent @expected="light" />
    </ContextComponent>
  </ContextComponent>
</ContextComponent>

<ContextComponent @context="dark">
  <ContextComponent @context="light">
    <ContextualComponent @expected="light" />
  </ContextComponent>
  
  <ContextComponent @context="light">
    <ContextComponent @context="dark">
      <ContextualComponent @expected="dark" />
    </ContextComponent>
  </ContextComponent>
</ContextComponent>